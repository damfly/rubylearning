=begin
  * Name: challenge_week2.rb
  * Description : process a line
  * Author: Damien HOULLE
  * Date: 27/12/2012
=end

lines = "Lorem ipsum dolor sit amet, sapien quisque lacus.
In amet placerat, wisi duis nibh, ornare mauris.
Ipsum risus.
Elit laoreet natoque, quam nulla, scelerisque ullamcorper quam.
At libero amet.
Molestie nam suspendisse, parturient luctus est.
A sem nec, arcu ultrices vivamus, ut consequat elementum.
Pede auctor, wisi et metus, quam arcu eget.
Vitae vel.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at.
Metus morbi, id vitae quia, nunc purus at."

def line_alignement(lines)
  # Split the content of the text to be aligned targeting the end of each line
  lines_collection =  lines.split(/$/)
  
  # Remove line breaks if any within each line
  lines_collection.each {|line| line.gsub!(/\n/, '')} if lines_collection.any? { |line| line[(/\n/)] }
  
  # intialization of the variable lines_aligned that will be used to return the lines aligned
  lines_aligned = ""
  
  # let's aligne the lines. For each line within the collection, take the sentence and the index. To align properly we need to format the
  # space between the word Line and the index of the line
  lines_collection.each.with_index(1) do |sentence, index|
    lines_aligned << "Line %#{lines_collection.length.to_s.length}d: %s\n" % [index, sentence]
  end
  
  #return the lines with proper alignement and index number
  return lines_aligned
end

puts line_alignement(lines)
